import{r as l,u as g,W as h,j as e}from"./app-B-gcvRUp.js";import{T as m}from"./TextInput-D7zjaPpK.js";import{U as j}from"./UploadImage-BMuppOR1.js";import{B as u}from"./button-Y3C-dlkm.js";import{D as x,a as y,b as v,c as k,d as f}from"./dialog-BnGBwckF.js";import"./InputError-CbCqagjj.js";import"./input-CPLovsgZ.js";import"./trash-2-C6AtS7d8.js";import"./createLucideIcon-DdylYWp8.js";import"./index-DrPOUevp.js";import"./index-CrFLC7Re.js";const I=()=>{const[c,i]=l.useState(null),{toast:o}=g(),{data:t,setData:r,post:d,processing:D,errors:s,reset:w}=h({jumlah:"",deskripsi:"",bukti_bayar:null}),p=a=>{r("bukti_bayar",a.target.files[0])};l.useEffect(()=>{if(t.bukti_bayar){const a=URL.createObjectURL(t.bukti_bayar);return i(a),()=>URL.revokeObjectURL(a)}},[t.bukti_bayar]);const b=a=>{a.preventDefault(),d(route("siswa.pembayaran.store"),{onError:n=>{n.name&&o({variant:"destructive",title:"Uh oh! Something went wrong.",description:n.message})},onSuccess:()=>{o({variant:"success",title:"Success!",description:"Pembayaran berhasil."})}})};return e.jsxs(x,{children:[e.jsx(y,{children:e.jsx(u,{className:"bg-white text-blue-600 hover:bg-blue-50",children:"Add Data"})}),e.jsx(v,{children:e.jsxs(k,{children:[e.jsx(f,{children:"Tambah Pembayaran"}),e.jsxs("form",{onSubmit:b,children:[e.jsx("div",{className:"flex justify-center items-center mt-5",children:e.jsx(j,{value:t.bukti_bayar,handleImageChange:p,errorMessage:s.bukti_bayar,preview:c,setPreview:i,label:"Bukti Bayar"})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mt-5",children:[e.jsx(m,{id:"jumlah",type:"number",name:"jumlah",value:t.jumlah,onChange:a=>r("jumlah",a.target.value),label:"Jumlah Pembayaran",errorMessage:s.jumlah,notEmpty:!0}),e.jsx(m,{id:"deskripsi",type:"text",name:"deskripsi",value:t.deskripsi,onChange:a=>r("deskripsi",a.target.value),label:"Deskripsi Pembayaran",errorMessage:s.deskripsi,notEmpty:!0})]}),e.jsx("div",{className:"flex justify-end items-center mt-3 gap-3",children:e.jsx(u,{type:"submit",children:"Save"})})]})]})})]})};export{I as default};
