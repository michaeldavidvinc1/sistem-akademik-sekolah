import{r as l,u as g,W as j,j as e}from"./app-B-gcvRUp.js";import{T as u}from"./TextInput-D7zjaPpK.js";import{U as h}from"./UploadImage-BMuppOR1.js";import{B as y}from"./button-Y3C-dlkm.js";import{D as x,a as k,b as f,c as v,d as U}from"./dialog-BnGBwckF.js";import{S as D}from"./square-pen-Bt4I1PO1.js";import"./InputError-CbCqagjj.js";import"./input-CPLovsgZ.js";import"./trash-2-C6AtS7d8.js";import"./createLucideIcon-DdylYWp8.js";import"./index-DrPOUevp.js";import"./index-CrFLC7Re.js";const q=({dataRow:s})=>{const[p,o]=l.useState(s.bukti_bayar),{toast:n}=g(),{data:t,setData:r,post:c,processing:P,errors:i,reset:_}=j({jumlah:s.jumlah,deskripsi:s.deskripsi,bukti_bayar:null,_method:"PUT"}),d=a=>{r("bukti_bayar",a.target.files[0])};l.useEffect(()=>{if(t.bukti_bayar){const a=URL.createObjectURL(t.bukti_bayar);return o(a),()=>URL.revokeObjectURL(a)}},[t.bukti_bayar]);const b=a=>{a.preventDefault(),c(route("siswa.pembayaran.update",s.id),{onError:m=>{m.name&&n({variant:"destructive",title:"Uh oh! Something went wrong.",description:m.message})},onSuccess:()=>{n({variant:"success",title:"Success!",description:"Update pembayaran berhasil."})}})};return e.jsxs(x,{children:[e.jsxs(k,{className:"flex gap-4 items-center",children:[e.jsx(D,{className:"w-4"})," Edit"]}),e.jsx(f,{"aria-describedby":"",children:e.jsxs(v,{children:[e.jsx(U,{children:"Update Pembayaran"}),e.jsxs("form",{onSubmit:b,children:[e.jsx("div",{className:"flex justify-center items-center mt-5",children:e.jsx(h,{value:t.bukti_bayar,handleImageChange:d,errorMessage:i.bukti_bayar,preview:p,setPreview:o,label:"Bukti Bayar"})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mt-5",children:[e.jsx(u,{id:"jumlah",type:"number",name:"jumlah",value:t.jumlah,onChange:a=>r("jumlah",a.target.value),label:"Jumlah Pembayaran",errorMessage:i.jumlah,notEmpty:!0}),e.jsx(u,{id:"deskripsi",type:"text",name:"deskripsi",value:t.deskripsi,onChange:a=>r("deskripsi",a.target.value),label:"Deskripsi Pembayaran",errorMessage:i.deskripsi,notEmpty:!0,onKeyDown:a=>a.stopPropagation()})]}),e.jsx("div",{className:"flex justify-end items-center mt-3 gap-3",children:e.jsx(y,{type:"submit",children:"Update"})})]})]})})]})};export{q as default};
