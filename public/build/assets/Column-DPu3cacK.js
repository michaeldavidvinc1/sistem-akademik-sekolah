import{j as s,u as C,r as D,W as B,d as u,y as p}from"./app-C6BvQfMW.js";import{B as T}from"./badge-Cg1Z7zur.js";import{D as k,a as b,b as E,c as P,d as _}from"./dialog-BbG0kQYE.js";import"./label-CvAMUQkL.js";import{D as M,a as I,b as A,c as K,d as o,e as F}from"./dropdown-menu-cRSw2iSG.js";import{S as L}from"./sweetalert2.esm.all-BGf-Fe8G.js";import{B as n}from"./button-Cty40wbr.js";import{T as h}from"./TextInput-CDnqSVUu.js";import{A as x}from"./arrow-up-down-v-v6FGFZ.js";import{E as H}from"./ellipsis-qjt1SESs.js";import{F as J}from"./file-lock-2-BkA2oloF.js";import{E as g,a as f}from"./eye-D_91V6Hb.js";import{S as O}from"./shield-check-kBLMlBE3.js";import{S as R}from"./shield-ban-CFER6y2f.js";import{S as U}from"./square-pen-D5KxO1Ny.js";import{T as q}from"./trash-2-Cfv6GIwr.js";import"./index-dKar52BI.js";import"./index-CFeybVEG.js";import"./index-h2se38p0.js";import"./InputError-BFXY7var.js";import"./input-zme8LGjU.js";import"./createLucideIcon-CwxlPnlF.js";const ps=[{accessorKey:"no",header:({column:e})=>s.jsxs(n,{variant:"ghost",onClick:()=>e.toggleSorting(e.getIsSorted()==="asc"),children:["No",s.jsx(x,{className:"ml-2 h-4 w-4"})]}),cell:({row:e})=>e.index+1},{accessorKey:"nama_lengkap",header:({column:e})=>s.jsxs(n,{variant:"ghost",onClick:()=>e.toggleSorting(e.getIsSorted()==="asc"),children:["Nama Lengkap",s.jsx(x,{className:"ml-2 h-4 w-4"})]})},{accessorKey:"user.email",header:"Email"},{accessorKey:"status",header:"Status",cell:({row:e})=>{const r=e.original;return s.jsx(T,{variant:r.status===0?"destructive":"default",children:r.status===0?"Inactive":"Active"})}},{accessorKey:"jurusan.nama_jurusan",header:"Jurusan"},{accessorKey:"tanggal_join",header:"Tanggal Join"},{id:"actions",cell:({row:e})=>{const r=e.original,{toast:i}=C(),[t,l]=D.useState(!1),{data:c,setData:d,post:j,errors:m,reset:w}=B({password:"",confirm_password:""}),N=a=>{L.fire({title:"Are you sure?",text:"You cannot undo this data again!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Iya, Hapus",cancelButtonText:"Batal"}).then(async S=>{S.isConfirmed&&p.delete(route("staff.guru.destroy",a),{onSuccess:()=>{i({variant:"success",title:"Success!",description:"Delete data successfully."})}})})},v=a=>{a.preventDefault(),p.get(route("guru.change.status",r.id),{},{onSuccess:()=>{i({variant:"success",title:"Success!",description:"Change status successfully."})}})},y=a=>{a.preventDefault(),j(route("guru.change.password",r.id),{onSuccess:()=>{w("confirm_password","password"),i({variant:"success",title:"Success!",description:"Change password successfully."})}})};return s.jsxs(M,{children:[s.jsx(I,{asChild:!0,children:s.jsxs(n,{variant:"ghost",className:"h-8 w-8 p-0",children:[s.jsx("span",{className:"sr-only",children:"Open menu"}),s.jsx(H,{className:"h-4 w-4"})]})}),s.jsxs(A,{align:"end",children:[s.jsx(K,{children:"Actions"}),s.jsx(o,{onSelect:a=>a.preventDefault(),children:s.jsxs(k,{children:[s.jsx(b,{asChild:!0,children:s.jsxs("span",{className:" flex gap-2 items-center cursor-pointer",children:[s.jsx(J,{className:"w-4"})," Change Password"]})}),s.jsxs(E,{className:"sm:max-w-md",children:[s.jsx(P,{children:s.jsx(_,{children:"Change Password"})}),s.jsx("div",{className:"grid gap-4 py-4",children:s.jsxs("form",{onSubmit:y,className:"flex flex-col gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(h,{id:"password",type:t?"text":"password",name:"password",value:c.password,onChange:a=>d("password",a.target.value),label:"Password",errorMessage:m.password}),s.jsx("span",{className:"absolute right-1 top-[47%] transform w-8 h-8 p-0 flex justify-center items-center cursor-pointer",onClick:()=>l(!t),text:!0,children:t?s.jsx(g,{className:"w-5 h-5"}):s.jsx(f,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"relative",children:[s.jsx(h,{id:"confirm_password",type:t?"text":"password",name:"password",value:c.confirm_password,onChange:a=>d("confirm_password",a.target.value),label:"Confirm Password",errorMessage:m.confirm_password}),s.jsx("span",{className:"absolute right-1 top-[47%] transform w-8 h-8 p-0 flex justify-center items-center cursor-pointer",onClick:()=>l(!t),text:!0,children:t?s.jsx(g,{className:"w-5 h-5"}):s.jsx(f,{className:"w-5 h-5"})})]}),s.jsx("div",{className:"flex justify-end items-center mt-6",children:s.jsx(n,{type:"submit",children:"Update Password"})})]})})]})]})}),s.jsx(o,{children:s.jsx(u,{href:route("staff.guru.edit",r.id),className:`flex gap-2 items-center ${c.status===0?"text-green-500":"text-red-500"}`,onClick:v,children:r.status===0?s.jsxs(s.Fragment,{children:[s.jsx(O,{className:"w-4"})," Active"]}):s.jsxs(s.Fragment,{children:[s.jsx(R,{className:"w-4"})," Inactive"]})})}),s.jsx(F,{}),s.jsx(o,{children:s.jsxs(u,{href:route("staff.guru.edit",r.id),className:" flex gap-2 items-center ",children:[s.jsx(U,{className:"w-4"})," Edit"]})}),s.jsx(o,{children:s.jsxs("span",{className:" flex gap-2 items-center cursor-pointer",onClick:()=>N(r.id),children:[s.jsx(q,{className:"w-4"})," Delete"]})})]})]})}}];export{ps as columns};
