import{r as N,u as y,W as b,j as e}from"./app-CqgPVkXB.js";import{T as n}from"./TextInput-CepAPAFe.js";import{C as p,b as x,c as f,a as u}from"./card-DBPu88VZ.js";import{B as h}from"./button-D5VYnzqG.js";import{D as P}from"./Layout-gO_-7eJL.js";import{E as w,a as j}from"./eye-TZ65dv7z.js";import"./InputError-Cgn5S4p2.js";import"./input-CSWPnNG6.js";import"./sheet-DXR12CIY.js";import"./index-CFUoM2DJ.js";import"./index-CDQueXTN.js";import"./dropdown-menu-BWE89EBM.js";import"./index-BR5nRESr.js";import"./createLucideIcon-Cgk-Hi83.js";const W=({auth:l})=>{const[r,c]=N.useState(!1),{toast:t}=y(),{data:a,setData:o,post:d,processing:S,errors:i,reset:g}=b({name:l.user.name,email:l.user.email,password:"",confirm_password:""}),v=s=>{s.preventDefault(),d(route("profile.update",{name:a.name,email:a.email}),{onSuccess:()=>{t({variant:"success",title:"Success!",description:"Profile updated successfully."})},onError:m=>{t({variant:"destructive",title:"Uh oh! Something went wrong.",description:m.message})}})},C=s=>{s.preventDefault(),d(route("profile.change.password",{password:a.password,confirm_password:a.confirm_password}),{onSuccess:()=>{g("password","confirm_password"),t({variant:"success",title:"Success!",description:"Change password successfully."})},onError:m=>{t({variant:"destructive",title:"Uh oh! Something went wrong.",description:m.message})}})};return e.jsxs(P,{auth:l,children:[e.jsx("div",{children:e.jsx("h1",{className:"text-xl font-semibold",children:"Profile"})}),e.jsxs("div",{className:"flex gap-6 mt-8",children:[e.jsxs(p,{className:"w-1/2 ",children:[e.jsx(x,{children:e.jsx(f,{children:"Edit Profile"})}),e.jsx(u,{children:e.jsxs("form",{onSubmit:v,className:"flex flex-col gap-5",children:[e.jsx(n,{id:"name",type:"text",name:"name",value:a.name,onChange:s=>o("name",s.target.value),label:"Nama",errorMessage:i.name}),e.jsx(n,{id:"email",type:"email",name:"email",value:a.email,onChange:s=>o("email",s.target.value),label:"Email",errorMessage:i.email}),e.jsx("div",{className:"flex justify-end items-center",children:e.jsx(h,{type:"submit",size:"sm",children:"Update"})})]})})]}),e.jsxs(p,{className:"w-1/2 ",children:[e.jsx(x,{children:e.jsx(f,{children:"Change Password"})}),e.jsx(u,{children:e.jsxs("form",{onSubmit:C,className:"flex flex-col gap-5",children:[e.jsxs("div",{className:"relative",children:[e.jsx(n,{id:"password",type:r?"text":"password",name:"password",value:a.password,onChange:s=>o("password",s.target.value),label:"Password",errorMessage:i.password}),e.jsx("span",{className:"absolute right-1 top-[47%] transform w-8 h-8 p-0 flex justify-center items-center cursor-pointer",onClick:()=>c(!r),text:!0,children:r?e.jsx(w,{className:"w-5 h-5"}):e.jsx(j,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"relative",children:[e.jsx(n,{id:"confirm_password",type:r?"text":"password",name:"confirm_password",value:a.confirm_password,onChange:s=>o("confirm_password",s.target.value),label:"Confirm Password",errorMessage:i.confirm_password}),e.jsx("span",{className:"absolute right-1 top-[47%] transform w-8 h-8 p-0 flex justify-center items-center cursor-pointer",onClick:()=>c(!r),text:!0,children:r?e.jsx(w,{className:"w-5 h-5"}):e.jsx(j,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"flex justify-end items-center",children:e.jsx(h,{type:"submit",size:"sm",children:"Change Password"})})]})})]})]})]})};export{W as default};
