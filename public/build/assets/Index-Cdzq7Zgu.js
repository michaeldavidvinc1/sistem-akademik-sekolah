import{r as i,u as _,W as b,j as a}from"./app-CqgPVkXB.js";import{C as N,b as y,c as C,a as w}from"./card-DBPu88VZ.js";import{B as T}from"./button-D5VYnzqG.js";import{T as r}from"./TextInput-CepAPAFe.js";import{D as U}from"./Layout-gO_-7eJL.js";import"./label-DOy4o43E.js";import{U as g}from"./UploadImage-Cyf7PaCx.js";import{S as L}from"./school-B7H6o33H.js";import"./InputError-Cgn5S4p2.js";import"./input-CSWPnNG6.js";import"./sheet-DXR12CIY.js";import"./index-CFUoM2DJ.js";import"./index-CDQueXTN.js";import"./dropdown-menu-BWE89EBM.js";import"./index-BR5nRESr.js";import"./createLucideIcon-Cgk-Hi83.js";import"./trash-2-DiCSrMlF.js";const G=({auth:p,kepalaSekolah:n})=>{const[h,o]=i.useState(n.data.foto),[x,m]=i.useState(n.data.tanda_tangan),{toast:d}=_(),{data:t,setData:s,errors:l,post:u,processing:M}=b({foto:null,tanda_tangan:null,nama_lengkap:n.data.nama_lengkap,nip:n.data.nip,jenis_kelamin:n.data.jenis_kelamin,tanggal_lahir:n.data.tanggal_lahir,tempat_lahir:n.data.tempat_lahir,alamat:n.data.alamat,email:n.data.email,telepon:n.data.telepon,_method:"PUT"}),v=e=>{s("foto",e.target.files[0])},j=e=>{s("tanda_tangan",e.target.files[0])};i.useEffect(()=>{if(t.foto){const e=URL.createObjectURL(t.foto);return o(e),()=>URL.revokeObjectURL(e)}},[t.foto]),i.useEffect(()=>{if(t.tanda_tangan){const e=URL.createObjectURL(t.tanda_tangan);return m(e),()=>URL.revokeObjectURL(e)}},[t.tanda_tangan]);const f=e=>{e.preventDefault(),u(route("staff.kepala.update"),{onError:c=>{c.name&&d({variant:"destructive",title:"Uh oh! Something went wrong.",description:c.message})},onSuccess:()=>{d({variant:"success",title:"Success!",description:"Update Kepala Sekolah successfully."})}})};return a.jsx(U,{auth:p,children:a.jsx("div",{className:"px-4",children:a.jsxs(N,{className:"shadow-xl",children:[a.jsxs(y,{className:"space-y-4 pb-8",children:[a.jsx("div",{className:"flex justify-center",children:a.jsx("div",{className:"h-16 w-16 bg-blue-500 rounded-full flex items-center justify-center mb-4",children:a.jsx(L,{className:"h-8 w-8 text-white"})})}),a.jsx(C,{className:"text-3xl font-bold text-center bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-indigo-600",children:"Identitas Kepala Sekolah"}),a.jsx("p",{className:"text-center text-gray-600",children:"Lengkapi informasi kepala sekolah Anda dengan detail"})]}),a.jsx(w,{children:a.jsxs("form",{className:"space-y-8",onSubmit:f,children:[a.jsxs("div",{className:"flex items-center justify-center space-x-8",children:[a.jsx(g,{value:t.foto,handleImageChange:v,errorMessage:l.foto,preview:h,setPreview:o,label:"Upload Foto"}),a.jsx(g,{value:t.tanda_tangan,handleImageChange:j,errorMessage:l.tanda_tangan,preview:x,setPreview:m,label:"Tanda Tangan"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"relative",children:a.jsx(r,{id:"nama_lengkap",type:"text",name:"nama_lengkap",value:t.nama_lengkap,onChange:e=>s("nama_lengkap",e.target.value),label:"Nama Lengkap",errorMessage:l.nama_lengkap})}),a.jsx("div",{className:"relative",children:a.jsx(r,{id:"nip",type:"text",name:"nip",value:t.nip,onChange:e=>s("nip",e.target.value),label:"NIP",errorMessage:l.nip})}),a.jsx("div",{className:"relative",children:a.jsx(r,{id:"jenis_kelamin",type:"text",name:"jenis_kelamin",value:t.jenis_kelamin,onChange:e=>s("jenis_kelamin",e.target.value),label:"Jenis Kelamin",errorMessage:l.jenis_kelamin})}),a.jsx("div",{className:"relative",children:a.jsx(r,{id:"tanggal_lahir",type:"date",name:"tanggal_lahir",value:t.tanggal_lahir,onChange:e=>s("tanggal_lahir",e.target.value),label:"Tanggal Lahir",errorMessage:l.tanggal_lahir})})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"relative",children:a.jsx(r,{id:"tempat_lahir",type:"text",name:"tempat_lahir",value:t.tempat_lahir,onChange:e=>s("tempat_lahir",e.target.value),label:"Tempat Lahir",errorMessage:l.tempat_lahir})}),a.jsx("div",{className:"relative",children:a.jsx(r,{id:"alamat",type:"text",name:"alamat",value:t.alamat,onChange:e=>s("alamat",e.target.value),label:"Alamat",errorMessage:l.alamat})}),a.jsx("div",{className:"relative",children:a.jsx(r,{id:"email",type:"email",name:"email",value:t.email,onChange:e=>s("email",e.target.value),label:"Email",errorMessage:l.email})}),a.jsx("div",{className:"relative",children:a.jsx(r,{id:"telepon",type:"text",name:"telepon",value:t.telepon,onChange:e=>s("telepon",e.target.value),label:"Telepon",errorMessage:l.telepon})})]})]}),a.jsx("div",{className:"pt-6",children:a.jsx(T,{type:"submit",className:"w-full bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white font-semibold py-3 rounded-lg shadow-lg transition-all duration-200 transform hover:scale-[1.02]",children:"Simpan Perubahan"})})]})})]})})})};export{G as default};
