import{j as s,u as C,r as D,W as B,b as p,y as u}from"./app-B-gcvRUp.js";import{B as o}from"./button-Y3C-dlkm.js";import{D as T,a as b,b as k,c as E,d as n,e as P}from"./dropdown-menu-aQHWxJHJ.js";import{S as M}from"./sweetalert2.esm.all-BGf-Fe8G.js";import{B as _}from"./badge-BjhwY9fj.js";import{D as I,a as A,b as K,c as F,d as L}from"./dialog-BnGBwckF.js";import{T as h}from"./TextInput-D7zjaPpK.js";import{A as x}from"./arrow-up-down-BDCQuL9f.js";import{E as H}from"./ellipsis-DjeK_RQ3.js";import{F as O}from"./file-lock-2-B5i5gCi4.js";import{E as f,a as g}from"./eye-Bd6dPFrl.js";import{S as R}from"./shield-check-QLqRkMjB.js";import{S as U}from"./shield-ban-39jBIHRT.js";import{S as q}from"./square-pen-Bt4I1PO1.js";import{T as J}from"./trash-2-C6AtS7d8.js";import"./index-BiaiJ4b9.js";import"./index-CrFLC7Re.js";import"./index-DrPOUevp.js";import"./InputError-CbCqagjj.js";import"./input-CPLovsgZ.js";import"./createLucideIcon-DdylYWp8.js";const ps=[{accessorKey:"no",header:({column:e})=>s.jsxs(o,{variant:"ghost",onClick:()=>e.toggleSorting(e.getIsSorted()==="asc"),children:["No",s.jsx(x,{className:"ml-2 h-4 w-4"})]}),cell:({row:e})=>e.index+1},{accessorKey:"nama_lengkap",header:({column:e})=>s.jsxs(o,{variant:"ghost",onClick:()=>e.toggleSorting(e.getIsSorted()==="asc"),children:["Nama Lengkap",s.jsx(x,{className:"ml-2 h-4 w-4"})]})},{accessorKey:"user.email",header:"Email"},{accessorKey:"status",header:"Status",cell:({row:e})=>{const r=e.original;return s.jsx(_,{variant:r.status===0?"destructive":"default",children:r.status===0?"Inactive":"Active"})}},{accessorKey:"tanggal_join",header:"Tanggal Join"},{id:"actions",cell:({row:e})=>{const r=e.original,{toast:i}=C(),[t,c]=D.useState(!1),{data:l,setData:d,post:w,errors:m,reset:j}=B({password:"",confirm_password:""}),N=a=>{M.fire({title:"Are you sure?",text:"You cannot undo this data again!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Iya, Hapus",cancelButtonText:"Batal"}).then(async y=>{y.isConfirmed&&u.delete(route("staff.guru.destroy",a),{onSuccess:()=>{i({variant:"success",title:"Success!",description:"Delete data successfully."})}})})},v=a=>{a.preventDefault(),u.get(route("staff.change.status",r.id),{},{onSuccess:()=>{i({variant:"success",title:"Success!",description:"Change status successfully."})}})},S=a=>{a.preventDefault(),w(route("staff.change.password",r.id),{onSuccess:()=>{j("confirm_password","password"),i({variant:"success",title:"Success!",description:"Change password successfully."})}})};return s.jsxs(T,{children:[s.jsx(b,{asChild:!0,children:s.jsxs(o,{variant:"ghost",className:"h-8 w-8 p-0",children:[s.jsx("span",{className:"sr-only",children:"Open menu"}),s.jsx(H,{className:"h-4 w-4"})]})}),s.jsxs(k,{align:"end",children:[s.jsx(E,{children:"Actions"}),s.jsx(n,{onSelect:a=>a.preventDefault(),children:s.jsxs(I,{children:[s.jsx(A,{asChild:!0,children:s.jsxs("span",{className:" flex gap-2 items-center cursor-pointer",children:[s.jsx(O,{className:"w-4"})," Change Password"]})}),s.jsxs(K,{className:"sm:max-w-md",children:[s.jsx(F,{children:s.jsx(L,{children:"Change Password"})}),s.jsx("div",{className:"grid gap-4 py-4",children:s.jsxs("form",{onSubmit:S,className:"flex flex-col gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(h,{id:"password",type:t?"text":"password",name:"password",value:l.password,onChange:a=>d("password",a.target.value),label:"Password",errorMessage:m.password}),s.jsx("span",{className:"absolute right-1 top-[47%] transform w-8 h-8 p-0 flex justify-center items-center cursor-pointer",onClick:()=>c(!t),text:!0,children:t?s.jsx(f,{className:"w-5 h-5"}):s.jsx(g,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"relative",children:[s.jsx(h,{id:"confirm_password",type:t?"text":"password",name:"password",value:l.confirm_password,onChange:a=>d("confirm_password",a.target.value),label:"Confirm Password",errorMessage:m.confirm_password}),s.jsx("span",{className:"absolute right-1 top-[47%] transform w-8 h-8 p-0 flex justify-center items-center cursor-pointer",onClick:()=>c(!t),text:!0,children:t?s.jsx(f,{className:"w-5 h-5"}):s.jsx(g,{className:"w-5 h-5"})})]}),s.jsx("div",{className:"flex justify-end items-center mt-6",children:s.jsx(o,{type:"submit",children:"Update Password"})})]})})]})]})}),s.jsx(n,{children:s.jsx(p,{href:route("staff.guru.edit",r.id),className:`flex gap-2 items-center ${r.status===0?"text-green-500":"text-red-500"}`,onClick:v,children:r.status===0?s.jsxs(s.Fragment,{children:[s.jsx(R,{className:"w-4"})," Active"]}):s.jsxs(s.Fragment,{children:[s.jsx(U,{className:"w-4"})," Inactive"]})})}),s.jsx(P,{}),s.jsx(n,{children:s.jsxs(p,{href:route("staff.staff.edit",r.id),className:" flex gap-2 items-center ",children:[s.jsx(q,{className:"w-4"})," Edit"]})}),s.jsx(n,{children:s.jsxs("span",{className:" flex gap-2 items-center cursor-pointer text-red-500",onClick:()=>N(r.id),children:[s.jsx(J,{className:"w-4"})," Delete"]})})]})]})}}];export{ps as columns};
