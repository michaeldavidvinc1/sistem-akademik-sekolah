import{j as e,y as n}from"./app-pLi7Pmpp.js";import{D as k,G as b}from"./Layout-BrjJb0vu.js";import{C as u,b as v,c as C,a as w}from"./card-CovMvrux.js";import{B as x}from"./button-8U27WDK7.js";import{I as S}from"./input-CJuEtsCP.js";import{S as _,a as y,b as R,c as T,d as F,e as I}from"./select-9FnE8WmF.js";import{T as B,a as G,b as o,c as l,d as H,e as c}from"./table-BmBEuTDW.js";import{S as L}from"./scroll-text-lxEjMKaQ.js";import{C as V}from"./chart-column-stacked-ldGjShHw.js";import{R as K}from"./rotate-ccw-CUAMRqzh.js";import{c as M}from"./createLucideIcon-CFEph-0y.js";import"./sheet-C6uFUOJF.js";import"./index-Dsq69_sy.js";import"./index-DmrbsMZK.js";import"./dropdown-menu-CzrkE76-.js";import"./index-BpXMol_Z.js";/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=M("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]),se=({auth:m,kelas:h,queryParams:s=null,siswaDenganNilai:r})=>{var d;s=s||{};const i=(a,t)=>{t?s[a]=t:delete s[a],n.get(route("guru.cetak.nilai"),s)},j=Object.keys(((d=r==null?void 0:r[0])==null?void 0:d.mata_pelajaran)??{}),p=()=>{n.get(route("guru.cetak.nilai"),{})},g=a=>{n.get(route("guru.cetak.raport",a))};return e.jsx(k,{auth:m,children:e.jsx("div",{className:"space-y-6",children:e.jsxs(u,{children:[e.jsx(v,{children:e.jsx(C,{className:"text-xl",children:"Cetak Nilai Siswa"})}),e.jsxs(w,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[e.jsxs("div",{className:"space-y-2 lg:col-start-2",children:[e.jsxs("label",{className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(L,{className:"h-4 w-4 text-gray-500"}),"Kelas"]}),e.jsxs(_,{name:"kelas_id",value:s==null?void 0:s.kelas_id,onValueChange:a=>i("kelas_id",a),children:[e.jsx(y,{className:"w-full",children:e.jsx(R,{placeholder:"Filter kelas"})}),e.jsx(T,{children:e.jsx(F,{children:h.data.map(a=>e.jsx(I,{value:a.id.toString(),children:a.nama_kelas},a.id))})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(V,{className:"h-4 w-4 text-gray-500"}),"Nama Siswa"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(S,{type:"text",placeholder:"Nama Siswa",name:"nama_lengkap",value:s==null?void 0:s.nama_lengkap,onBlur:a=>i("nama_lengkap",a.target.value)}),e.jsx("div",{className:"flex justify-end",children:e.jsxs(x,{onClick:p,variant:"outline",className:"flex items-center gap-2 text-gray-600 hover:text-gray-800 hover:bg-gray-50 border-gray-200",children:[e.jsx(K,{className:"h-4 w-4"}),"Reset Filter"]})})]})]})]}),s.kelas_id?e.jsx(e.Fragment,{children:e.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(B,{children:[e.jsx(G,{children:e.jsxs(o,{className:"bg-gray-50",children:[e.jsx(l,{className:"w-16 text-center font-semibold",children:"No"}),e.jsx(l,{className:"font-semibold text-center",children:"Nama Lengkap"}),e.jsx(l,{className:"font-semibold text-center",children:"Kelas"}),j.map((a,t)=>e.jsx(l,{className:"font-semibold text-center",children:a},t)),e.jsx(l,{className:"font-semibold text-center",children:"Rata - Rata"}),e.jsx(l,{className:"font-semibold text-center",children:"Ranking"}),e.jsx(l,{className:"font-semibold text-center",children:"Cetak"})]})}),e.jsx(H,{children:r.map((a,t)=>e.jsxs(o,{children:[e.jsx(c,{className:"text-center",children:t+1}),e.jsx(c,{className:"text-center",children:a.nama_lengkap}),e.jsx(c,{className:"text-center",children:a.kelas}),Object.entries(a.mata_pelajaran).map(([N,f])=>e.jsx(c,{className:"text-center",children:f},N)),e.jsx(c,{className:"text-center",children:a.rata_rata.toFixed(2)}),e.jsx(c,{className:"text-center",children:a.ranking}),e.jsx(c,{className:"text-center",children:e.jsxs(x,{size:"sm",className:"flex items-center gap-2",onClick:()=>g(a.siswa_id),children:[e.jsx(O,{className:"h-4 w-4"}),e.jsx("span",{children:"Cetak"})]})})]},t))})]})})})}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-gray-100 mb-4",children:e.jsx(b,{className:"h-8 w-8 text-gray-400"})}),e.jsx("p",{className:"text-gray-500 max-w-sm mx-auto",children:"Gunakan filter di atas untuk menampilkan data nilai siswa"})]})]})]})})})};export{se as default};
