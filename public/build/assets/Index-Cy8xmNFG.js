import{r as d,u,W as v,j as e}from"./app-pLi7Pmpp.js";import{C as j,b,c as f,a as N}from"./card-CovMvrux.js";import{B as k}from"./button-8U27WDK7.js";import{T as r}from"./TextInput-CvOJinAK.js";import{D as w}from"./Layout-BrjJb0vu.js";import"./label-CaOHjBdq.js";import{U as y}from"./UploadImage-gfWbuWBw.js";import{S as C}from"./school-BQIhxpZa.js";import"./InputError-CLpRjsSk.js";import"./input-CJuEtsCP.js";import"./sheet-C6uFUOJF.js";import"./index-Dsq69_sy.js";import"./index-DmrbsMZK.js";import"./dropdown-menu-CzrkE76-.js";import"./index-BpXMol_Z.js";import"./createLucideIcon-CFEph-0y.js";import"./trash-2-CLymjhZD.js";const z=({auth:c,identitas:t})=>{const[p,n]=d.useState(t.data.logo),{toast:i}=u(),{data:s,setData:l,errors:o,post:h,processing:_}=v({logo:null,nama_sekolah:t.data.nama_sekolah,npsn:t.data.npsn,nis:t.data.nis,alamat:t.data.alamat,kode_pos:t.data.kode_pos,website:t.data.website,email:t.data.email,telepon:t.data.telepon,_method:"PUT"}),g=a=>{l("logo",a.target.files[0])};d.useEffect(()=>{if(s.logo){const a=URL.createObjectURL(s.logo);return n(a),()=>URL.revokeObjectURL(a)}},[s.logo]);const x=a=>{a.preventDefault(),h(route("staff.informasi.update"),{onError:m=>{m.name&&i({variant:"destructive",title:"Uh oh! Something went wrong.",description:m.message})},onSuccess:()=>{i({variant:"success",title:"Success!",description:"Update Informasi Sekolah successfully."})}})};return e.jsx(w,{auth:c,children:e.jsx("div",{className:"px-4",children:e.jsxs(j,{className:"shadow-xl",children:[e.jsxs(b,{className:"space-y-4 pb-8",children:[e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:"h-16 w-16 bg-blue-500 rounded-full flex items-center justify-center mb-4",children:e.jsx(C,{className:"h-8 w-8 text-white"})})}),e.jsx(f,{className:"text-3xl font-bold text-center bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-indigo-600",children:"Identitas Sekolah"}),e.jsx("p",{className:"text-center text-gray-600",children:"Lengkapi informasi sekolah Anda dengan detail"})]}),e.jsx(N,{children:e.jsxs("form",{className:"space-y-8",onSubmit:x,children:[e.jsx("div",{className:"flex items-center justify-center",children:e.jsx(y,{value:s.logo,handleImageChange:g,errorMessage:o.photo,preview:p,setPreview:n,label:"Upload Logo"})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"relative",children:e.jsx(r,{id:"nama_sekolah",type:"text",name:"nama_sekolah",value:s.nama_sekolah,onChange:a=>l("nama_sekolah",a.target.value),label:"Nama Sekolah",errorMessage:o.nama_sekolah})}),e.jsx("div",{className:"relative",children:e.jsx(r,{id:"npsn",type:"text",name:"npsn",value:s.npsn,onChange:a=>l("npsn",a.target.value),label:"NPSN",errorMessage:o.npsn})}),e.jsx("div",{className:"relative",children:e.jsx(r,{id:"nis",type:"text",name:"nis",value:s.nis,onChange:a=>l("nis",a.target.value),label:"NIS",errorMessage:o.nis})}),e.jsx("div",{className:"relative",children:e.jsx(r,{id:"kode_pos",type:"number",name:"kode_pos",value:s.kode_pos,onChange:a=>l("kode_pos",a.target.value),label:"Kode Pos",errorMessage:o.kode_pos})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"relative",children:e.jsx(r,{id:"alamat",type:"text",name:"alamat",value:s.alamat,onChange:a=>l("alamat",a.target.value),label:"Alamat",errorMessage:o.alamat})}),e.jsx("div",{className:"relative",children:e.jsx(r,{id:"website",type:"text",name:"website",value:s.website,onChange:a=>l("website",a.target.value),label:"Website",errorMessage:o.website})}),e.jsx("div",{className:"relative",children:e.jsx(r,{id:"email",type:"email",name:"email",value:s.email,onChange:a=>l("email",a.target.value),label:"Email",errorMessage:o.email})}),e.jsx("div",{className:"relative",children:e.jsx(r,{id:"telepon",type:"text",name:"telepon",value:s.telepon,onChange:a=>l("telepon",a.target.value),label:"Telepon",errorMessage:o.telepon})})]})]}),e.jsx("div",{className:"pt-6",children:e.jsx(k,{type:"submit",className:"w-full bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white font-semibold py-3 rounded-lg shadow-lg transition-all duration-200 transform hover:scale-[1.02]",children:"Simpan Perubahan"})})]})})]})})})};export{z as default};
