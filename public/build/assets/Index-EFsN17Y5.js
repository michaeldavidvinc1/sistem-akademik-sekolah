import{r as S,j as e,y as o}from"./app-C6BvQfMW.js";import{D as R,G as T}from"./Layout-DDyZGAlO.js";import{B as x}from"./button-Cty40wbr.js";import"./card-C2_mhCTQ.js";import{S as m,a as h,b as j,c as p,d as g,e as N}from"./select-BRcQPxkm.js";import{T as F,a as G,b,c as t,d as K,e as i}from"./table-DU-2hvi8.js";import{S as O}from"./search-D2imII7T.js";import{R as B}from"./rotate-ccw-B1OyDiYh.js";import{S as D}from"./scroll-text-CMntymPa.js";import{C as I}from"./chart-column-stacked-C9dK4pq7.js";import"./sheet-BEWZsMS6.js";import"./index-dKar52BI.js";import"./index-CFeybVEG.js";import"./dropdown-menu-cRSw2iSG.js";import"./index-h2se38p0.js";import"./createLucideIcon-CwxlPnlF.js";const se=({auth:f,jenisPenilaian:u,kelas:v,queryParams:a=null,dataPenilaian:V,nilaiSiswa:n})=>{var d;const[r,k]=S.useState(!0);a=a||{};const c=(s,l)=>{l?a[s]=l:delete a[s],o.get(route("guru.rekap.nilai"),a)},w=()=>{o.get(route("guru.rekap.nilai"),{})},y=Object.keys(((d=n==null?void 0:n[0])==null?void 0:d.nilai)??{});return e.jsx(R,{auth:f,children:e.jsxs("div",{className:"",children:[e.jsx("div",{className:"bg-white border-b",children:e.jsx("div",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Rekap Nilai Siswa"}),e.jsxs(x,{onClick:()=>k(!r),variant:"ghost",className:"text-gray-600 hover:text-gray-800",children:[e.jsx(O,{className:"h-5 w-5 mr-2"}),"Filter Data"]})]})})}),e.jsx("div",{className:`transition-all duration-300 ${r?"opacity-100":"opacity-0 pointer-events-none"}`,children:e.jsx("div",{className:"max-w-4xl mx-auto px-4 py-6",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6 backdrop-blur-sm bg-opacity-90",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-700",children:"Filter Pencarian"}),e.jsxs(x,{onClick:w,variant:"ghost",className:"text-gray-500 hover:text-red-600 transition-colors",children:[e.jsx(B,{className:"h-4 w-4 mr-2"}),"Reset Filter"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"inline-flex items-center text-sm font-medium text-gray-700",children:[e.jsx(D,{className:"h-4 w-4 mr-2 text-blue-500"}),"Pilih Kelas"]}),e.jsxs(m,{name:"kelas_id",value:a==null?void 0:a.kelas_id,onValueChange:s=>c("kelas_id",s),children:[e.jsx(h,{className:"w-full bg-gray-50 border-0 hover:bg-gray-100 transition-colors",children:e.jsx(j,{placeholder:"Pilih Kelas"})}),e.jsx(p,{children:e.jsx(g,{children:v.data.map(s=>e.jsx(N,{value:s.id.toString(),children:s.nama_kelas},s.id))})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"inline-flex items-center text-sm font-medium text-gray-700",children:[e.jsx(I,{className:"h-4 w-4 mr-2 text-purple-500"}),"Kategori Nilai"]}),e.jsxs(m,{name:"jenis_penilaian_id",value:a==null?void 0:a.jenis_penilaian_id,onValueChange:s=>c("jenis_penilaian_id",s),children:[e.jsx(h,{className:"w-full bg-gray-50 border-0 hover:bg-gray-100 transition-colors",children:e.jsx(j,{placeholder:"Pilih Kategori"})}),e.jsx(p,{children:e.jsx(g,{children:u.data.map(s=>e.jsxs(N,{value:s.id.toString(),children:[s.deskripsi," (",s.kode_jenis_penilaian,")"]},s.id))})})]})]})]})]})})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 py-6",children:a.kelas_id&&a.jenis_penilaian_id?e.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(F,{children:[e.jsx(G,{children:e.jsxs(b,{className:"bg-gray-50",children:[e.jsx(t,{className:"w-16 text-center font-semibold",children:"No"}),e.jsx(t,{className:"font-semibold text-center",children:"Nama Lengkap"}),y.map((s,l)=>e.jsx(t,{className:"font-semibold text-center",children:s},l)),e.jsx(t,{className:"font-semibold text-center",children:"Rata - Rata"}),e.jsx(t,{className:"font-semibold text-center",children:"Ranking"})]})}),e.jsx(K,{children:n.map((s,l)=>e.jsxs(b,{children:[e.jsx(i,{className:"text-center",children:l+1}),e.jsx(i,{className:"text-center",children:s.nama_siswa}),Object.entries(s.nilai).map(([E,_],C)=>e.jsx(i,{className:"text-center",children:_},C)),e.jsx(i,{className:"text-center",children:s.rata_rata}),e.jsx(i,{className:"text-center",children:s.ranking})]},l))})]})})}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-gray-100 mb-4",children:e.jsx(T,{className:"h-8 w-8 text-gray-400"})}),e.jsx("p",{className:"text-gray-500 max-w-sm mx-auto",children:"Gunakan filter di atas untuk menampilkan data nilai siswa"})]})})]})})};export{se as default};
